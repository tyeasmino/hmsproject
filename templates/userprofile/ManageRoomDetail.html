{% extends 'userprofile/base.html' %}

{% block title %} Add Room Details {% endblock title %}

{% block body %} 
<div class="card shadow-lg mx-4 card-profile-bottom addHeader">
    <div class="card-body p-3">
      <div class="row gx-4"> 
        <div class="col-auto d-none d-md-block">
          <div class="avatar avatar-xl position-relative">
            <span class="w-100 border-radius-lg shadow-sm"> 
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 860 860" class="addicon"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M543.8 287.6c17 0 32-14 32-32.1c1-9-3-17-11-24L309.5 7c-6-5-14-7-21-7s-15 1-22 8L10 231.5c-7 7-10 15-10 24c0 18 14 32.1 32 32.1h32V448c0 35.3 28.7 64 64 64H448.5c35.5 0 64.2-28.8 64-64.3l-.7-160.2h32zM256 208c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v48h48c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H320v48c0 8.8-7.2 16-16 16H272c-8.8 0-16-7.2-16-16V320H208c-8.8 0-16-7.2-16-16V272c0-8.8 7.2-16 16-16h48V208z"/></svg>
            </span> 
          </div>
        </div>
        <div class="col-auto my-auto"> 
          <div class="h-100">
            <h5 class="mb-1">
              Room Details 
            </h5>
            <p class="mb-0 font-weight-bold text-sm">
              Add your room details here and see the details 
            </p> 
          </div>
        </div>

        <div class="col-lg-2 col-md-3 my-auto ms-sm-auto me-sm-0 mx-auto mt-3">
          <!-- Button trigger modal -->
          <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#exampleModal">
            Add Room Details  
          </button>
        </div> 
      </div>
    </div>
</div>
 
<!-- Modal --> 
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add Room Details</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <form action="/ManageRoomDetail" method="post"> 
        {% csrf_token %} 
        <div class="modal-body">
          <div class="col-md-12">  
            <div class="card">
                <div class="card-body"> 
                  <p class="text-uppercase text-sm">Room Information</p> 
                  <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                          <label for="example-text-input" class="form-control-label">Select Room NO</label>
                          <select class="form-control" name="selected_room_id">   
                              {% for ri in roominfo %}   
                                  <option value="{{ ri.room_pk }} "> {{ ri.room_no }} - {{ ri.hall_name }} </option>   
                              {% endfor %}   
                          </select> 
                        </div>
                      </div>         
                  </div>
                  <hr class="horizontal dark">
                  <p class="text-uppercase text-sm">Student Information</p>
                  <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                          <label for="example-text-input" class="form-control-label">Student ID</label>
                          <input class="form-control" type="text" name="student_id" placeholder="Provide The Student ID">
                        </div> 
                    </div>  
                    <div class="col-md-6">
                        <div class="form-group">
                          <label for="example-text-input" class="form-control-label">Student Name</label>
                          <input class="form-control" type="text" name="student_name" placeholder="Provide The Student Name">
                        </div>
                    </div>  
                    <div class="col-md-6">
                      <div class="form-group">
                        <label for="example-text-input" class="form-control-label">Balance</label>
                        <input class="form-control" type="number" name="balance" placeholder="Provide The Balance">
                      </div>
                    </div>                                                      
                    <div class="col-md-12">
                        <div class="form-group">
                          <label for="example-text-input" class="form-control-label">Comment</label> 
                          <input class="form-control" type="text" name="comment" placeholder="Provide your comment here">  
                        </div> 
                    </div>                       
                  </div>                                    
                </div> 
            </div>          
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary btn-sm " data-bs-dismiss="modal">Close</button>
          <button type="submit" class="btn btn-primary btn-sm ">Add Room</button>
        </div>
      </form>
    </div>
  </div>
</div>

<div class="container-fluid py-4">
    <div class="row">
        <div class="col-md-12">  
            <div class="card mb-4">
                <div class="card-header pb-0">
                  <h6>Room Details In Tabular Form</h6> 
                </div>
                <div class="card-body px-0 pt-0 pb-2">
                  <div class="table-responsive p-0"> 
                    <table class="table table-hover align-items-center mb-0">   
                      <thead> 
                        <tr> 
                          <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">SL No</th>    
                          <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7 ps-2">Room No</th>                          
                          <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7 ps-2">Student ID</th>                          
                          <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7 ps-2">Student Name</th>                          
                          <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7 ps-2">Balance</th>  
                          <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7 ps-2">Comment</th>   
                          <th colspan="2" class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7 ps-2">Actions</th>   
                        </tr>
                      </thead>
                      <tbody >
                        {% for rd in roomdetails %}  
                            <tr > 
                                <td class="align-middle text-sm">
                                <span class="text-secondary text-xs font-weight-bold mx-3">{{ rd.room_details_pk }}</span>
                                </td> 
                                <td class="align-middle text-sm">
                                <span class="text-secondary text-xs font-weight-bold">{{ rd.select_room }}</span>
                                </td>
                                <td class="align-middle text-sm">
                                <span class="text-secondary text-xs font-weight-bold">{{ rd.student_id }}</span>
                                </td> 
                                <td class="align-middle  text-sm">
                                <span class="text-secondary text-xs font-weight-bold">{{ rd.student_name }}</span>
                                </td>
                                <td class="align-middle text-sm "> 
                                <span class="text-secondary text-xs font-weight-bold">{{ rd.balance }}</span>
                                </td>
                                <td class="align-middle  text-sm">
                                <span class="text-secondary text-xs font-weight-bold">{{ rd.comment }}</span>
                                </td>
                                <td> 
                                    <a href="" class="btn btn-warning btn-sm px-3 m-auto"> <i class="fas fa-eye"></i> </a>                                    
                                </td>                                     
                                <td> 
                                    <form action="" method="post"> 
                                        {% csrf_token %} 
                                        <button type="submit" class="btn btn-danger btn-sm px-3 m-auto"> <i class="fas fa-trash-alt"></i> </button>
                                    </form> 
                                </td>                         
                            </tr>  
                        {% endfor %}                                                   
                      </tbody>
                    </table>
                  </div>
                </div> 
            </div>         
        </div>      
    </div>     
</div>    
{% endblock body %}  